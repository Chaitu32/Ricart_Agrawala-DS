<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>Distributed System Status</title>
	</head>
	<body>
		<h1>Distributed System Status</h1>
		<p>{{ message }}</p>
		<h2>All Nodes</h2>
		<ul>
			{% for node in nodes %}
			<li>{{ node }}{% if node in critical_nodes %} (in critical section){% endif %}</li>
			{% endfor %}
		</ul>
		<h2>Critical Nodes</h2>
		<ul>
			{% for node in critical_nodes %}
			<li>{{ node }}{% if node in nodes %}{% if node in critical_nodes %} (in critical section){% endif %}{% else %} (not found in system){% endif %}</li>
			{% endfor %}
		</ul>
        <h2>Add Node</h1>
	<form method="POST" action="/">
		<label for="node">Node:</label>
		<input type="number"  min = "1" id="node" name="node">
		<button type="submit">Add</button>
	</form>
		<h2>Add Node to Critical Section</h2>
		<form method="post" action="/add_critical">
			<input type="number" id="num_count" name="num_count" min="1" value="{{ num_count }}">
			<br><br>
			{% for i in range(num_count) %}
				<label for="num_{{ i }}">Node Name {{ i + 1 }}:</label>
				<input type="number"  min = "1"  id="node" name="node">
				<br><br>
			{% endfor %}
			
			<input type="submit" value="Add Node to Critical Section">
		</form>
		<h2>Remove Node from Critical Section</h2>
		<form method="post" action="/remove_critical">
			<label for="node">Node Name:</label>
			<input type="number"  min = "1"  id="node" name="node">
			<input type="submit" value="Remove Node from Critical Section">
		</form>
		<h2>Remove Node from System</h2>
		<form method="post" action="/remove_node">
			<label for="node">Node Name:</label>
			<input type="number" min = "1"  id="node" name="node">
			<input type="submit" value="Remove Node from System">
		</form>
	</body>
</html>
